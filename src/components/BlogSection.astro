---
import { getCollection } from "astro:content";
import FormattedDate from "./FormattedDate.astro";

const posts = (await getCollection("blog")).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<section class="text-gray-600 body-font">
    <div class="container mx-auto px-5 py-24">
        <div class="flex flex-wrap w-full mb-20">
            <div class="lg:w-1/2 w-full mb-6 lg:mb-0">
                <h2
                    class="sm:text-3xl text-2xl font-medium title-font mb-2 text-blue-500 uppercase"
                >
                    BLOG
                </h2>
                <div class="h-1 w-20 bg-blue-500 rounded"></div>
            </div>
            <p class="lg:w-1/2 w-full leading-relaxed text-gray-500">
                Whatever cardigan tote bag tumblr hexagon brooklyn asymmetrical
                gentrify, subway tile poke farm-to-table. Franzen you probably
                haven't heard of them man bun deep jianbing selfies heirloom
                prism food truck ugh squid celiac humblebrag.
            </p>
        </div>
        <div class="grid gap-4 grid-cols-1 md:grid-cols-3 items-stretch">
            {
                posts.map((post) => (
                    <div class="bg-gray-100 p-6 rounded-lg hover:-translate-y-1 hover:shadow-lg ease-in duration-100">
                        <a
                            href={`/blog/${post.slug}/`}
                            class="inline-flex
                                        items-center"
                        >
                            <img
                                class="rounded w-full object-cover object-center mb-6"
                                src={post.data.heroImage}
                                alt="content"
                            />
                        </a>
                        <a
                            href={`/blog/${post.slug}/`}
                            class="inline-flex
                                        items-center"
                        >
                            <h2 class="text-lg text-blue-500 font-medium title-font mb-4">
                                {post.data.title}
                            </h2>
                        </a>
                        <p class="leading-relaxed text-base">
                            {post.data.description}
                        </p>

                        <FormattedDate date={post.data.pubDate} />
                    </div>
                ))
            }
        </div>
    </div>
</section>
